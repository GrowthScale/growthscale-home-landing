@tailwind base;
@tailwind components;
@tailwind utilities;

/* GrowthScale Design System - Cores e Tipografia Oficiais */

@layer base {
  :root {
    /* Background & Foreground */
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;

    /* Card & Popover */
    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;

    /* GrowthScale Brand Colors - Design System Oficial */
    /* Primária - Azul Profundo (Confiança) */
    --primary-50: 210 100% 97%;
    --primary-100: 210 100% 94%;
    --primary-200: 210 100% 88%;
    --primary-300: 210 100% 80%;
    --primary-400: 210 100% 70%;
    --primary-500: 210 100% 60%;
    --primary-600: 210 100% 40%;  /* #004AAD - Principal */
    --primary-700: 210 100% 30%;  /* #003380 */
    --primary-800: 210 100% 20%;  /* #001F52 */
    --primary-900: 210 100% 10%;  /* #001025 */

    /* Secundária - Laranja (CTA/Ação) */
    --secondary-50: 25 100% 97%;
    --secondary-100: 25 100% 94%;
    --secondary-200: 25 100% 88%;
    --secondary-300: 25 100% 80%;
    --secondary-400: 25 100% 70%;
    --secondary-500: 25 100% 60%;  /* #FF6B00 - CTA Principal */
    --secondary-600: 25 100% 50%;  /* #EA580C */
    --secondary-700: 25 100% 40%;
    --secondary-800: 25 100% 30%;
    --secondary-900: 25 100% 20%;

    /* Neutros - Sistema de Cores Neutras */
    --neutral-50: 210 20% 98%;
    --neutral-100: 210 20% 96%;
    --neutral-200: 210 20% 90%;
    --neutral-300: 210 20% 82%;
    --neutral-400: 210 20% 64%;
    --neutral-500: 210 20% 45%;
    --neutral-600: 210 20% 35%;
    --neutral-700: 210 20% 25%;
    --neutral-800: 210 20% 15%;
    --neutral-900: 210 20% 8%;

    /* Feedback Colors */
    --success: 142 76% 36%;  /* #00B37E */
    --success-foreground: 0 0% 100%;
    --warning: 38 92% 45%;  /* #F59E0B */
    --warning-foreground: 0 0% 100%;
    --destructive: 0 84% 60%;  /* #E63946 */
    --destructive-foreground: 0 0% 100%;
    --info: 217 91% 60%;  /* #2563EB */
    --info-foreground: 0 0% 100%;

    /* Muted Colors */
    --muted: 210 20% 96%;
    --muted-foreground: 215 16% 40%;

    /* Border & Input */
    --border: 214 32% 85%;
    --input: 214 32% 85%;
    --ring: 210 100% 40%;

    /* Radius */
    --radius: 0.75rem;

    /* Typography - Design System Oficial */
    --font-family-heading: 'Montserrat', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    --font-family-body: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;

    /* Font Sizes - Type Scale */
    --font-size-xs: 0.75rem;
    --font-size-sm: 0.875rem;
    --font-size-base: 1rem;
    --font-size-lg: 1.125rem;
    --font-size-xl: 1.25rem;
    --font-size-2xl: 1.5rem;
    --font-size-3xl: 1.875rem;
    --font-size-4xl: 2.25rem;
    --font-size-5xl: 3rem;
    --font-size-6xl: 3.75rem;

    /* Line Heights */
    --line-height-tight: 1.2;
    --line-height-normal: 1.4;
    --line-height-relaxed: 1.6;
    --line-height-loose: 1.8;

    /* Spacing - Design System */
    --spacing-xs: 0.25rem;
    --spacing-sm: 0.5rem;
    --spacing-md: 1rem;
    --spacing-lg: 1.5rem;
    --spacing-xl: 2rem;
    --spacing-2xl: 3rem;
    --spacing-3xl: 4rem;
    --spacing-4xl: 6rem;

    /* Shadows - Design System */
    --shadow-xs: 0 1px 2px rgba(0, 0, 0, 0.05);
    --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.1);
    --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.1);
    --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.1);
    --shadow-xl: 0 20px 25px rgba(0, 0, 0, 0.1);

    /* Transitions */
    --transition-fast: 150ms ease-out;
    --transition-normal: 250ms ease-out;
    --transition-slow: 350ms ease-out;

    /* Z-Index Scale */
    --z-hide: -1;
    --z-base: 0;
    --z-docked: 10;
    --z-dropdown: 1000;
    --z-sticky: 1100;
    --z-banner: 1200;
    --z-overlay: 1300;
    --z-modal: 1400;
    --z-popover: 1500;
    --z-skip-link: 1600;
    --z-toast: 1700;
    --z-tooltip: 1800;
  }

  /* Dark mode support (future) */
  .dark {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;
    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;
    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;
    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;
    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground font-body;
    font-feature-settings: "rlig" 1, "calt" 1;
  }

  /* Typography Scale */
  h1, h2, h3, h4, h5, h6 {
    @apply font-heading font-bold tracking-tight;
  }

  h1 {
    @apply text-4xl md:text-5xl lg:text-6xl;
    line-height: var(--line-height-tight);
  }

  h2 {
    @apply text-3xl md:text-4xl lg:text-5xl;
    line-height: var(--line-height-tight);
  }

  h3 {
    @apply text-2xl md:text-3xl lg:text-4xl;
    line-height: var(--line-height-normal);
  }

  h4 {
    @apply text-xl md:text-2xl lg:text-3xl;
    line-height: var(--line-height-normal);
  }

  h5 {
    @apply text-lg md:text-xl lg:text-2xl;
    line-height: var(--line-height-normal);
  }

  h6 {
    @apply text-base md:text-lg lg:text-xl;
    line-height: var(--line-height-normal);
  }

  p {
    @apply text-base leading-relaxed;
  }

  /* Accessibility */
  .skip-to-content {
    @apply sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 bg-primary-600 text-white px-4 py-2 rounded z-50;
  }

  /* Focus styles for accessibility */
  .focus-visible {
    @apply outline-none ring-2 ring-primary-600 ring-offset-2;
  }

  /* Mobile-first responsive design */
  .container {
    @apply px-4 mx-auto;
    max-width: 1200px;
  }

  @media (min-width: 640px) {
    .container {
      @apply px-6;
    }
  }

  @media (min-width: 1024px) {
    .container {
      @apply px-8;
    }
  }
}

@layer components {
  /* Button Components - Design System */
  .btn {
    @apply inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background;
  }

  .btn-primary {
    @apply bg-primary-600 text-white hover:bg-primary-700;
  }

  .btn-secondary {
    @apply bg-secondary-500 text-white hover:bg-secondary-600;
  }

  .btn-outline {
    @apply border border-input bg-background hover:bg-accent hover:text-accent-foreground;
  }

  .btn-ghost {
    @apply hover:bg-accent hover:text-accent-foreground;
  }

  .btn-link {
    @apply text-primary underline-offset-4 hover:underline;
  }

  .btn-sm {
    @apply h-9 px-3 rounded-md;
  }

  .btn-md {
    @apply h-10 px-4 py-2;
  }

  .btn-lg {
    @apply h-11 px-8 rounded-md;
  }

  .btn-xl {
    @apply h-12 px-10 rounded-md text-lg;
  }

  /* Card Components */
  .card {
    @apply rounded-lg border bg-card text-card-foreground shadow-sm;
  }

  .card-header {
    @apply flex flex-col space-y-1.5 p-6;
  }

  .card-title {
    @apply text-2xl font-semibold leading-none tracking-tight;
  }

  .card-description {
    @apply text-sm text-muted-foreground;
  }

  .card-content {
    @apply p-6 pt-0;
  }

  .card-footer {
    @apply flex items-center p-6 pt-0;
  }

  /* Input Components */
  .input {
    @apply flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50;
  }

  /* Badge Components */
  .badge {
    @apply inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2;
  }

  .badge-primary {
    @apply border-transparent bg-primary text-primary-foreground hover:bg-primary/80;
  }

  .badge-secondary {
    @apply border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80;
  }

  .badge-success {
    @apply border-transparent bg-success text-success-foreground;
  }

  .badge-warning {
    @apply border-transparent bg-warning text-warning-foreground;
  }

  .badge-destructive {
    @apply border-transparent bg-destructive text-destructive-foreground;
  }

  /* Loading States */
  .loading {
    @apply animate-pulse bg-muted;
  }

  .loading-text {
    @apply loading rounded;
  }

  /* Micro-interactions */
  .micro-interaction {
    @apply transition-all duration-200 ease-out;
  }

  .micro-interaction:hover {
    @apply transform scale-105;
  }

  /* Confetti animation */
  @keyframes confetti {
    0% {
      transform: translateY(0) rotate(0deg);
      opacity: 1;
    }
    100% {
      transform: translateY(-100vh) rotate(720deg);
      opacity: 0;
    }
  }

  .confetti {
    animation: confetti 3s ease-out forwards;
  }

  /* Progress bar animation */
  @keyframes progress {
    0% {
      width: 0%;
    }
    100% {
      width: 100%;
    }
  }

  .progress-animate {
    animation: progress 2s ease-out forwards;
  }
}

@layer utilities {
  /* Utility classes for design system */
  .text-balance {
    text-wrap: balance;
  }

  .text-pretty {
    text-wrap: pretty;
  }

  /* Gradient utilities */
  .gradient-primary {
    background: linear-gradient(135deg, hsl(var(--primary-600)) 0%, hsl(var(--primary-700)) 100%);
  }

  .gradient-secondary {
    background: linear-gradient(135deg, hsl(var(--secondary-500)) 0%, hsl(var(--secondary-600)) 100%);
  }

  .gradient-hero {
    background: linear-gradient(135deg, hsl(var(--primary-900)) 0%, hsl(var(--primary-800)) 50%, hsl(var(--primary-900)) 100%);
  }

  /* Shadow utilities */
  .shadow-elegant {
    box-shadow: var(--shadow-lg), 0 0 0 1px hsl(var(--primary-600) / 0.1);
  }

  .shadow-soft {
    box-shadow: var(--shadow-sm);
  }

  /* Border utilities */
  .border-gradient {
    border-image: linear-gradient(135deg, hsl(var(--primary-600)), hsl(var(--secondary-500))) 1;
  }

  /* Animation utilities */
  .animate-fade-in {
    animation: fadeIn 0.5s ease-out;
  }

  .animate-slide-up {
    animation: slideUp 0.3s ease-out;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  @keyframes slideUp {
    from {
      transform: translateY(20px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }
}

/* =====================================================
   ACESSIBILIDADE - QUICK FIXES
   ===================================================== */

/* Focus visível para navegação por teclado */
:focus-visible {
  outline: 3px solid hsl(var(--info)) !important;
  outline-offset: 2px !important;
  border-radius: 4px;
}

/* Alvos de toque mínimos para WCAG AA */
[role="button"], 
button, 
a, 
input[type="button"], 
input[type="submit"], 
input[type="reset"] {
  min-height: 44px !important;
  min-width: 44px !important;
}

/* Melhorar contraste para elementos interativos */
button:focus,
a:focus,
input:focus,
select:focus,
textarea:focus {
  box-shadow: 0 0 0 3px hsl(var(--info) / 0.3);
}

/* Estados de hover mais visíveis */
button:hover,
a:hover {
  transform: translateY(-1px);
  transition: transform 0.2s ease;
}

/* Melhorar legibilidade de texto */
p, span, div {
  line-height: 1.6;
}

/* Contraste melhorado para textos pequenos */
.text-sm, .text-xs {
  font-weight: 500;
}

/* Indicadores visuais para elementos interativos */
[aria-expanded="true"]::after {
  content: " ▼";
  font-size: 0.8em;
}

[aria-expanded="false"]::after {
  content: " ▶";
  font-size: 0.8em;
}

/* Melhorar navegação por teclado */
.skip-link {
  position: absolute;
  top: -40px;
  left: 6px;
  background: hsl(var(--info));
  color: hsl(var(--info-foreground));
  padding: 8px;
  text-decoration: none;
  border-radius: 4px;
  z-index: 1000;
}

.skip-link:focus {
  top: 6px;
}

/* Estados de loading mais acessíveis */
[aria-busy="true"] {
  position: relative;
}

[aria-busy="true"]::after {
  content: "";
  position: absolute;
  top: 50%;
  left: 50%;
  width: 20px;
  height: 20px;
  margin: -10px 0 0 -10px;
  border: 2px solid hsl(var(--muted));
  border-top: 2px solid hsl(var(--info));
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}